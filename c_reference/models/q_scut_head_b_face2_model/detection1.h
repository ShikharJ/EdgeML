// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT license.

#define D1NW_HF 1
#define D1NW_WF 1
#define D1NW_CF 1
#define D1NW_COUT 1
#define D1NW_HPADL 0
#define D1NW_HPADR 0
#define D1NW_WPADL 0
#define D1NW_WPADR 0
#define D1NW_HSTRIDE 1
#define D1NW_WSTRIDE 1
#define D1NW_HDILATION 1
#define D1NW_WDILATION 1
#define D1NW_G 32

#define D1CW_HF 3
#define D1CW_WF 3
#define D1CW_CF 32
#define D1CW_COUT 4
#define D1CW_HPADL 1
#define D1CW_HPADR 1
#define D1CW_WPADL 1
#define D1CW_WPADR 1
#define D1CW_HSTRIDE 1
#define D1CW_WSTRIDE 1
#define D1CW_HDILATION 1
#define D1CW_WDILATION 1
#define D1CW_G 1

#define D1LW_HF 3
#define D1LW_WF 3
#define D1LW_CF 32
#define D1LW_COUT 4
#define D1LW_HPADL 1
#define D1LW_HPADR 1
#define D1LW_WPADL 1
#define D1LW_WPADR 1
#define D1LW_HSTRIDE 1
#define D1LW_WSTRIDE 1
#define D1LW_HDILATION 1
#define D1LW_WDILATION 1
#define D1LW_G 1

// The convention followed for filter weights is F[groups][filter_height][filter_width][in_channels][out_channels]
static const Q15_T D1NW[D1NW_G * D1NW_HF * D1NW_WF * D1NW_CF * D1NW_COUT] = {29539, 28566, 29845, 28906, 29926, 25712, 29495, 29662, 25431, 29849, 29830, 29787, 29952, 29526, 29465, 29838, 30073, 30000, 29613, 29761, 29152, 30046, 29013, 29768, 29599, 29217, 29622, 29224, 29869, 29312, 29803, 29935};
static const Q15_T D1CW[D1CW_G * D1CW_HF * D1CW_WF * D1CW_CF * D1CW_COUT] = {-3279, -3595, -5704, 6972, -13508, -5288, -4499, 20279, 5649, 15, 496, -3050, 3813, 623, -453, -9351, 4986, 5095, -474, -13321, 3762, 2883, 2096, -10662, -1510, -963, -8482, 10713, -1158, -2768, 974, 2080, 2906, -3663, -6707, 10969, 3737, 4858, -1617, -10927, 6438, 4251, -4107, -4263, -1152, 2644, -1225, -4724, 5874, 453, -4675, -3244, -6653, 1717, 2448, -788, -6339, -2280, -4526, 15319, 2869, 7314, 9026, -17055, -2980, -3557, -7040, 12335, 305, 5917, 8313, -8616, -15066, -13273, 1874, 28774, -5329, -5879, -4443, 18833, 3361, -462, 830, -5200, 4012, -2511, -2780, 1491, 2101, -2955, 3111, -1050, 1958, 506, 4628, -3314, -89, -3665, -8423, 10435, 1806, 3382, -3293, -6001, -5251, 2825, 1418, 1297, 652, -7987, -7577, 19196, 2915, -1639, -875, -6030, 3025, 4465, 4174, -15101, 3232, -2066, -884, -1499, -5062, 3896, 6967, -5558, -3369, -516, -6748, 8346, -3303, 3688, -2805, 3544, 31, -487, 2113, -5063, 439, -3756, -152, -765, -7253, -1587, -1374, 10524, 3944, 1353, 5411, -8760, 4650, -3290, -2169, 822, -456, 3066, 878, -315, -1843, 5226, -2529, -2852, -2180, 282, 988, 3811, -1571, 1485, 390, 2291, -7539, -3156, -2290, 16019, 3237, 611, -1362, -4516, 1973, 3, 3373, -5948, 6650, 7276, 344, -9302, -935, -1368, 6984, -7900, 8767, 3124, -2359, -3667, -4237, -6038, 2544, 908, -3291, -4232, 226, 2151, 3434, -3430, -8035, 6056, -2968, -983, 5886, -1348, -144, -685, -1416, 1540, -2529, 2112, -899, -1960, 1655, -763, 1730, 924, -920, 1648, -526, -297, -3020, 2002, 82, 3553, -1367, -1339, -171, 3063, -3403, 199, -2045, 6488, -6731, -538, -3667, 9305, -10901, -407, 1438, 6944, -6111, -1643, 3596, 8732, -6582, -1332, 5281, -2080, 2817, -632, -4863, 2343, 1719, -2430, -2041, 5172, 70, 1740, 4920, -886, -276, 655, -114, 3158, -2776, 3641, 1928, -1900, -288, 605, 2602, -4108, 28, -270, -567, 561, 960, -340, -3913, 6296, -1723, 381, -5466, 12380, -4532, 3343, 2959, -1552, 4796, 3819, -1886, -1074, 384, 357, -1504, -1742, 1374, 1923, 1955, -3157, -5020, -132, 4436, -5344, 1872, -841, -4021, 5853, -11535, 1725, 10889, -3315, -660, -241, -5039, 1313, -2650, 328, 6879, -3788, 1816, -5708, -6929, 17926, -307, -2927, -6147, 6207, -2744, 463, -216, 253, 3601, 1113, -3055, -239, 2638, -1545, 413, -911, 466, 1154, -1529, 1722, 2960, -1043, -8588, 4565, 672, 29, 417, -3490, -2075, 2581, 5611, -5345, -550, -5079, -7319, 7943, -424, -1301, 981, -3565, -3065, 3280, 6263, -2845, -1856, -881, 4630, -2710, -6889, 578, 4835, 879, -1040, -3190, -1739, 5951, -7175, 4165, 1933, 7894, 12725, -1292, -4735, -3814, -9517, -2370, 904, 8011, -9390, -1848, -1606, 15991, -1262, 2300, -597, -3008, -441, 2385, -3515, -2860, 8929, -1938, 2431, -11227, -11590, 3082, -2330, 5891, 2114, 2784, -155, -1802, -6013, -2447, -1077, 11780, -3837, -3207, -4336, 8851, 6502, -2624, -8468, 3346, -7733, 4101, 2251, 3721, 7558, 4756, -518, -7248, -23788, 301, 16185, 11600, 2477, 994, -4193, 1620, -6686, -1058, 2736, 6328, -9381, -2975, 7261, 9027, -5644, -3081, -7672, 12227, 3919, 1984, 989, -6624, -7364, -2826, -1665, 14108, -2823, -3575, 2495, 6093, -10334, -3593, 5401, 5293, 9684, 166, -8921, -2207, 1644, 3889, 239, -6307, -16975, -341, 1049, 18735, 3264, -7508, -13577, 13669, -4441, 747, 584, -4682, 3606, 3620, -198, -14273, -3228, -1454, 6753, 648, -7039, 3190, 5389, -717, 4204, -1991, -7899, 62, -5024, 2791, 2646, 1290, -722, -3015, 2049, -239, 3546, -5731, -3958, 1491, -12361, -5693, -8114, 25827, 6802, 3670, 2747, -12206, 16912, -1622, -1813, -18484, -11686, -283, 21, 5339, 9834, 12705, -3838, -20111, -566, 3440, 400, -3783, -5709, -1288, -1103, 4444, -3650, -3907, -7279, 15002, 17866, 1700, -4563, -10286, -7128, -1242, 1346, 7158, 5701, 4228, 3054, -5782, -14708, -2330, 14978, 3260, 98, 388, -7710, 5862, -4149, -5803, -504, 11109, -12515, -5053, 4813, 17033, -7264, -2095, -4510, 16478, 357, 3189, 6208, -13343, -1726, -328, -279, 4071, 5516, 3922, -622, -8382, 3753, -2546, 2709, -2555, -239, 669, 726, -5307, -21212, 1261, 1347, 11080, -7183, -1255, -2559, 10959, 3092, -4027, -3935, -162, -22, 215, -1663, 3147, -5695, 2142, 2429, 2239, 262, -1513, 5907, -2130, 4859, 4206, 7256, -13498, 391, -2191, -3842, 6836, -2058, 484, -1918, 3468, -1367, -1401, -500, 19, -8496, 520, -55, 10680, -3414, 4553, 1312, 2419, 3103, 586, -180, -3494, 3272, -379, -2132, -1671, 273, 985, -3178, 3227, 1436, 2528, -1140, -842, -211, 1599, -206, -774, -2648, -676, 2406, 3190, -18, 1697, -3592, -1619, 5768, 3939, 906, -7252, -1541, 387, 3459, -5267, 4030, -841, -1231, 1258, -10664, 3082, 15183, -8357, 2014, 2487, -3498, 2598, -5126, -148, 2466, 2167, 5731, -9466, -11164, 12847, 934, -1820, -5792, 4813, -2611, -55, 2792, 2254, 2291, -3054, -757, 594, 1998, -871, -885, -1901, -3215, -1264, -589, 4189, 1142, -567, -7111, 6688, 536, 484, 1123, -2476, -2088, 4772, 4964, -6189, -1203, -5116, -6810, 13610, 309, -492, 1859, 955, -4737, 460, 4065, -2448, 852, -283, 4410, -3366, -5937, 4516, 7927, -2017, 4951, -1465, -3455, 2000, 1033, -575, -5917, 3990, 681, -1034, -4031, 4623, -2476, -2017, 2456, -2635, 4376, -2236, -8472, 5464, 1946, -2234, -1045, -1022, 1686, -30, -3461, 1158, 2290, -2063, 2621, 1495, 153, 4219, -7449, 8008, 3610, -753, -4246, 158, 1065, -732, -1216, -2706, 1198, -2110, -3040, 1613, 2238, -3977, -5813, 4078, -3391, 3485, 4116, -6272, -1585, 913, -3868, -2862, -6194, 3539, 9669, -4730, 6651, -376, -3192, -33, -2249, -381, 4812, -3505, 3713, -2885, 655, -5040, -3094, -1802, -6879, 9251, -1114, 2890, 5840, -3692, 2483, -3290, -2124, -2928, -1253, 761, 2646, -1157, -3794, -844, 5171, -4158, 3763, 3723, -4456, 822, 1482, -329, -142, -1964, -193, 3255, -4471, 6425, 2883, -2696, -7140, 9457, -3262, -80, -1166, 6282, 236, 377, 4879, -3152, -222, -651, 1107, 4530, -2923, 4881, 1686, -5519, 4284, -95, -7305, 7233, 3375, 1502, -667, -1762, 238, 403, -463, 4103, -1896, -1815, -3533, 4132, -425, 1376, -7985, 12306, 6602, 866, -310, -1072, 1274, -2282, -1526, -748, -3446, -186, 1705, 6331, 857, 5719, -5050, 3174, -451, -619, -1400, 4452, -5283, -2305, 1287, 4163, -858, 805, 1435, 1497, 3208, -1350, -8852, 6188, -2468, 145, 3607, -4752, 448, 2076, -1148, 3034, -3625, 1679, 9388, -8868, 4859, -1788, -3382, -3051, 443, -1604, 3591, -3262, 6043, -6199, -6534, 2221, -1490, -2430, -6726, 8749, -1600, 783, 1864, -5634, 1168, -3032, -1778, -1829, 863, 2147, -1004, -851, -179, 658, 1260, -2226, 2285, 4587, -3846, 1389, 594, 2131, -630, 4055, -5474, 1714, -6214, 2348, -1743, -4388, -4697, 6732, -1973, -215, -2815, 2292, -768, -2921, 3716, -2201, -4432, -2366, 3625, -161, -1398, 4172, 6926, -2105, 1310, -1733, -6131, 6440, -2300, 238, -5457, 8309, -721, -805, 1152, -669, -2144, -652, 112, 4437, -1720, -1278, -4115, 3802, 4924, -1549, 937, -2345, -369, -1407, -4385, -463, 413, -2056, -1934, 2071, 5332, 3496, -5367, -2611, 642, 199, -2454, -500, -256, -2480, 3187, -693, -854, -741, -573, -454, 2486, -199, 691, 260, -2652, 1859, 6034, -6719, 3023, -1404, -7501, -513, -6736, 3797, 14362, -7312, 3224, 2724, -2732, 334, -5551, -175, 5163, 744, 5183, -3427, -7744, 8572, 3220, -1230, -7612, 4828, -1580, -1265, -1244, -1349, 3797, -2471, -2094, 3263, 932, 2205, -503, -2463, -1096, -460, -672, 1189, 1447, 1771, -6376, 4778, 1492, -771, 531, -3073, 312, 4345, 898, -4472, 2559, -3221, -3169, 6869, -1993, -1170, -2837, 1366, -3900, -991, 2455, -5953, -532, 697, 4989, -1511, -2935, 3579, 4757, -5198};
static const Q15_T D1LW[D1LW_G * D1LW_HF * D1LW_WF * D1LW_CF * D1LW_COUT] = {1184, -571, -2508, -3168, 309, -1253, -912, -775, -698, -1159, 1951, 1007, -391, 2357, -1545, -1203, -698, -893, 2294, 1365, -63, 1192, 3337, 2734, 0, -1313, -535, -1127, -1190, 1613, 486, 576, -128, -1133, 1007, 1084, 494, -220, 299, 12, -385, -1849, 170, -955, -223, -1028, -123, 337, -485, -2440, 858, 1541, -429, 359, 343, 387, 1167, 802, -2415, -2633, -483, 32, -857, -432, -690, 281, -1704, -1881, -151, 406, -997, -577, -1347, -599, 414, 1222, 940, -806, -521, 218, 652, -25, -1599, -1760, -107, -830, -555, -63, -203, 1426, -1234, -642, -1200, -589, 89, -291, 469, -1870, -941, -1736, -1259, 1919, 11, -605, -262, -1816, -573, 7, -464, 2, -146, -25, 498, 1498, -492, -458, -240, 790, -670, -866, -862, 2191, -1550, -814, -495, -457, 731, 343, -933, -4030, -3150, -3232, -1663, -492, -1638, -687, 2735, 937, 1868, 322, 511, -882, -1315, -744, 2959, -5915, 537, -164, -1913, 7283, 7809, 7749, -2500, 6890, 503, -762, -1270, 3654, -1720, -1967, -3872, 4537, -5057, -1852, -474, -2646, 1152, 3332, 1916, -2226, 956, 179, -3019, -7359, -54, -1062, -1790, -1655, 625, 458, 368, -5885, -1182, -1178, -1308, 1315, -1632, 1990, -1339, -5143, -2293, -702, -1008, 560, -405, -798, 1691, 6324, 320, -864, 5285, -195, 2590, 1864, -1323, -1982, -534, -1715, 1837, 8821, -2049, -919, 1680, 591, -1018, -1073, 880, 5019, -2056, -520, 727, -2378, -65, -782, -1761, 1691, -3715, -980, 2633, -2548, -1510, -94, -768, 2245, 1844, 1323, 1949, -5238, -756, -1096, 868, 3325, -1605, -1730, 1393, -12, -218, -453, 3922, 266, -515, -329, 313, 4362, -672, -244, 564, -1605, -2112, -2134, -546, 1547, 977, 1074, 242, 819, 874, 1281, 257, 1542, -443, 236, 1410, 353, 253, -358, 251, 279, 2723, 2886, 942, 1338, 1105, 820, -429, 1122, -2068, -1959, 490, -1771, -999, -1309, 752, -2367, -733, 195, -807, -353, 790, 782, 298, -1260, -1146, -824, -52, 964, -221, -92, 1128, 388, 973, 1386, 810, 915, 1144, 893, 902, -909, -1064, -1364, 11, 306, 663, 756, -1251, -1368, -972, -625, -1360, -2181, -503, 103, 672, -954, 2147, 1836, -850, -398, -572, 707, -236, -99, 307, -236, -770, 790, -313, 8, 1343, 1233, -157, -310, 917, -612, 1411, 163, 192, 742, 2158, 2072, -435, 875, 1614, 2104, -174, -1654, -489, -824, -476, 861, 1389, 1176, 989, -23, -438, -478, -1719, 1250, 808, 1434, -648, -647, -1131, -1721, -1881, -5419, 210, -359, -6462, -3242, -3818, -4498, 5053, -24, -4385, -4497, 4240, 315, -1257, -427, 2034, -4236, 2375, 1793, 2179, -1448, 6598, 4706, 4695, 2924, -2453, -1630, -3528, -1021, 1809, 2178, -1199, -1953, 3736, 1286, -9728, -502, 2314, 904, 1486, 2054, -5176, -6580, -2875, 1106, 555, 925, -833, -201, 1467, 2228, 6230, -4324, -2626, -1015, 77, -3207, 552, -895, -7033, 17, -2307, -2496, -5462, -3967, 1700, 282, -2521, -6295, 34, 1167, 898, 6930, 3121, 4076, -2380, 3293, -1002, 648, 1728, 5425, -308, -1348, -1504, 3014, 413, 525, 3642, 3185, 1780, 1890, -5825, 1199, -258, -1165, -2610, 405, 3885, 2445, 284, -4492, 1307, 1247, 2764, 139, -2998, -2826, 3733, -2957, -2480, -986, -4514, -2268, -1644, -2303, 4090, 679, 2343, 1659, -2802, -3663, -3711, -5164, -2417, 2657, 1721, 1512, 748, 7465, 5277, 6521, -546, 6526, -16043, -17542, 730, 9612, 2280, 1449, -2749, 4921, -5835, -3040, 4554, 4205, -3057, -2302, -2763, -13305, 11100, 11909, -6725, 607, 914, 622, 523, -17262, 3547, 4177, -3987, -5802, -5436, -3667, -1678, -5627, 4627, 6838, 5211, -9822, 3688, 3177, 9992, 14652, 3887, 1489, 10402, -8525, -5795, -5896, -12024, -9681, 122, 2348, 299, -3205, 423, 3715, 4890, 3755, 1440, 736, 21341, -5184, 5238, 6436, -1982, -16371, 1840, 3072, 4737, -2282, 1124, -27, -3896, -9253, 282, 749, 12610, 3475, -5760, -5502, -12610, 10401, 7508, 7389, 5114, 4351, 1892, 3594, -7103, -4640, -6879, -7951, 1041, -618, -166, 598, 11335, 2737, 378, 2055, -1480, -4358, 750, 1120, 4511, -10992, -1754, -2218, -5544, -9550, -4893, -3603, -8576, -681, 979, -929, 11982, 1756, -679, -2862, 17062, -6875, -327, 1843, 218, -6, 68, -108, 1247, -1894, -720, -1279, -2153, -467, -891, -1040, -369, -1239, -692, 985, -109, -2070, -1124, -1357, 146, -859, 5745, 5466, -407, -475, -305, -616, -1975, -770, -2158, -1701, -55, 2012, -297, -2552, 1573, 1988, -387, 104, 696, 163, 1466, 1283, 1190, 266, -949, -171, -300, 7, -512, 219, -421, -678, 1262, 1276, 480, -1250, 2023, 1156, 922, -234, -1898, -1930, -1187, -2322, 726, 518, -675, -178, -2269, -1386, -128, 1126, -710, 29, 1054, 1517, -431, 219, -3371, 173, 1234, 1364, 559, -1859, 846, 236, -345, 1628, 379, 418, 922, 1179, 1307, 708, 152, -265, 3370, 2008, -894, 563, 2911, 2623, -634, 1833, -111, 390, 2073, 1368, -337, -515, -592, -69, 2575, 1846, 349, 437, 707, 125, 25, -457, -479, -996, 1454, -1729, -668, -1915, -1004, -1197, 427, -363, 127, -1076, -808, -99, 288, 1848, -3338, -2823, 57, -1560, -902, -454, 254, 862, -542, -808, -361, -1404, 3993, 2983, 403, -1908, -1039, -600, 570, 1080, 1946, 2088, -13, -2571, 1864, 374, 305, -570, -2228, -2841, -178, 54, -552, -830, 328, -399, 571, 1902, 856, 3097, 631, 1906, 518, -776, -969, -423, 1694, 327, 764, 346, -508, 546, 966, 956, 100, -2415, -2147, -2914, -655, 1582, -1637, -697, -867, -1322, 750, 953, 535, 1001, -2248, -1212, 333, -2048, -2410, -2559, 553, -815, -1174, -1031, 258, 2615, 1436, 1786, 95, -287, 897, 94, -51, -69, 1958, 821, 591, -549, 1329, 855, 1177, 1227, -1387, -1150, 316, -370, 311, 1148, -840, 2437, 1186, 1283, -226, -571, 1151, 555, 5, -1377, -1440, -2154, -706, -653, 435, 619, -614, 3026, 830, 1731, 732, -5270, -3902, -4072, -211, -1661, -794, -2293, -719, 62, 135, 146, -728, 1577, -835, -714, 526, 1374, 4592, 5779, 2400, -1478, -267, -1967, 339, 1366, 58, 306, -530, -3723, -3714, -2880, -298, -456, -4274, -2886, 330, 2906, 1624, 1744, 665, -260, 260, 26, -167, 3217, 1766, 2931, -850, -1649, 751, 560, 203, 232, 682, 2697, 338, 485, 1228, 1681, 216, -1056, -1061, -1300, -637, -339, -1486, -1480, -64, 3272, 1290, 857, -1027, 5431, -1129, 383, -1178, -4968, -3224, -2893, -368, -2858, -727, -1667, 170, 3484, 1021, 2806, 543, -1692, 608, 179, -278, -2330, 1147, 2506, 286, -1172, 310, 1279, -889, 1947, 1054, 1304, 1904, 1635, -816, -217, -497, 4748, 2391, 4695, 560, 1929, 1346, 1794, 705, 995, -1149, -2288, -1426, -2850, -1312, -936, -401, -520, 238, -397, -1030, -398, 15, 384, 187, -1395, -1482, -867, -451, 456, -863, 313, 314, -310, -631, -1185, -1076, 1549, 5609, 5047, -203, 305, 995, 604, -984, -1336, -2612, -2248, 708, -2579, 173, -2423, 556, -1103, -1208, -1627, -957, -215, 2751, 2255, -1327, -332, -1257, -409, -454, 136, -743, -115, 119, -1205, 1309, 978, 233, 2199, 2958, 2358, -96, -1717, -433, -94, 329, -1086, 103, -638, 7, 3140, -2718, -966, -695, 527, -1739, -1063, 864, 1885, -545, -52, 832, 637, 471, 966, -832, -309, -5, 156, 84, -1, 293, 571, -349, -985, 92, 307, -350, -788, 1916, 1215, -36, -42, 1988, 1847, -938, -370, 772, 1223, -212, -601, 35, 242, 245, 2009, 2374, 2726, 319, 699, -125, -643, 155, -1082, 117, 187, 733, -413, 238, -682};
static const Q15_T D1CB[D1CW_COUT] = {15334, -181, 16511, -31106};
static const Q15_T D1LB[D1LW_COUT] = {-470, -1260, -20525, -3809};

static const SCALE_T D1_ScaleIn = -12;
static const SCALE_T D1_ScaleOut = 8;

#ifdef SHIFT
  static const SCALE_T D1NW_Scinput = 5;    //32
  static const SCALE_T D1NW_Scoutput = 6;   //64
  static const SCALE_T D1NW_Demote = 0 + 0; //1
  static const SCALE_T D1CW_Scinput = 4;    //16
  static const SCALE_T D1CW_Scoutput = 5;   //32
  static const SCALE_T D1CW_Demote = 0 + 9; //1
  static const SCALE_T D1CW_Scten = 0;      //1
  static const SCALE_T D1CW_Scvec = 3;      //8
  static const SCALE_T D1CW_Scret = 0;      //1
  static const SCALE_T D1LW_Scinput = 3;    //8
  static const SCALE_T D1LW_Scoutput = 4;   //16
  static const SCALE_T D1LW_Demote = 0 + 9; //1
  static const SCALE_T D1LW_Scten = 0;      //1
  static const SCALE_T D1LW_Scvec = 2;      //4
  static const SCALE_T D1LW_Scret = 0;      //1
#else
  static const SCALE_T D1NW_Scinput = 32;
  static const SCALE_T D1NW_Scoutput = 64;
  static const SCALE_T D1NW_Demote = 1 * 1;
  static const SCALE_T D1CW_Scinput = 16;
  static const SCALE_T D1CW_Scoutput = 32;
  static const SCALE_T D1CW_Demote = 1 * 512;
  static const SCALE_T D1CW_Scten = 1;
  static const SCALE_T D1CW_Scvec = 8;
  static const SCALE_T D1CW_Scret = 1;
  static const SCALE_T D1LW_Scinput = 8;
  static const SCALE_T D1LW_Scoutput = 16;
  static const SCALE_T D1LW_Demote = 1 * 512;
  static const SCALE_T D1LW_Scten = 1;
  static const SCALE_T D1LW_Scvec = 4;
  static const SCALE_T D1LW_Scret = 1;
#endif
